"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const _ = require("lodash");
/**
 * Normalize service name
 */
function normalizeServiceName(name, opts) {
    const blacklist = ["S_3", "EC_2", "IO_T", "V_2", "F_S", "AP_I"];
    opts = _.defaults(opts, {
        snakeCase: true,
        stripPrefix: false
    });
    let normName = name;
    if (opts.stripPrefix) {
        normName = _.trim(normName.replace(/^(AWS|AMAZON)/i, ""));
        // TODO
    }
    if (opts.snakeCase) {
        let modKey = _.snakeCase(name).toUpperCase();
        blacklist.forEach(ent => {
            if (modKey.indexOf(ent) >= 0) {
                modKey = modKey.replace(ent, ent.replace("_", ""));
            }
        });
        normName = modKey;
    }
    return normName;
}
exports.normalizeServiceName = normalizeServiceName;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ1dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDRCQUE0QjtBQUU1Qjs7R0FFRztBQUNILFNBQWdCLG9CQUFvQixDQUNsQyxJQUFZLEVBQ1osSUFBcUQ7SUFFckQsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2hFLElBQUksR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRTtRQUN0QixTQUFTLEVBQUUsSUFBSTtRQUNmLFdBQVcsRUFBRSxLQUFLO0tBQ25CLENBQUMsQ0FBQztJQUNILElBQUksUUFBUSxHQUFHLElBQUksQ0FBQztJQUVwQixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7UUFDcEIsUUFBUSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzFELE9BQU87S0FDUjtJQUVELElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtRQUNsQixJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzdDLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDdEIsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDcEQ7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUNILFFBQVEsR0FBRyxNQUFNLENBQUM7S0FDbkI7SUFFRCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDO0FBM0JELG9EQTJCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuXG4vKipcbiAqIE5vcm1hbGl6ZSBzZXJ2aWNlIG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVNlcnZpY2VOYW1lKFxuICBuYW1lOiBzdHJpbmcsXG4gIG9wdHM/OiB7IHNuYWtlQ2FzZT86IGJvb2xlYW47IHN0cmlwUHJlZml4PzogYm9vbGVhbiB9XG4pOiBzdHJpbmcge1xuICBjb25zdCBibGFja2xpc3QgPSBbXCJTXzNcIiwgXCJFQ18yXCIsIFwiSU9fVFwiLCBcIlZfMlwiLCBcIkZfU1wiLCBcIkFQX0lcIl07XG4gIG9wdHMgPSBfLmRlZmF1bHRzKG9wdHMsIHtcbiAgICBzbmFrZUNhc2U6IHRydWUsXG4gICAgc3RyaXBQcmVmaXg6IGZhbHNlXG4gIH0pO1xuICBsZXQgbm9ybU5hbWUgPSBuYW1lO1xuXG4gIGlmIChvcHRzLnN0cmlwUHJlZml4KSB7XG4gICAgbm9ybU5hbWUgPSBfLnRyaW0obm9ybU5hbWUucmVwbGFjZSgvXihBV1N8QU1BWk9OKS9pLCBcIlwiKSk7XG4gICAgLy8gVE9ET1xuICB9XG5cbiAgaWYgKG9wdHMuc25ha2VDYXNlKSB7XG4gICAgbGV0IG1vZEtleSA9IF8uc25ha2VDYXNlKG5hbWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgYmxhY2tsaXN0LmZvckVhY2goZW50ID0+IHtcbiAgICAgIGlmIChtb2RLZXkuaW5kZXhPZihlbnQpID49IDApIHtcbiAgICAgICAgbW9kS2V5ID0gbW9kS2V5LnJlcGxhY2UoZW50LCBlbnQucmVwbGFjZShcIl9cIiwgXCJcIikpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5vcm1OYW1lID0gbW9kS2V5O1xuICB9XG5cbiAgcmV0dXJuIG5vcm1OYW1lO1xufVxuIl19